# **登品科技新能源项目管理平台 \- 计算模型技术文档 (V2.0 完整版)**

## **1\. 文档目的**

本技术文档旨在为《登品科技新能源项目管理平台 PRD V2.0》中定义的所有核心计算功能提供详尽、明确的数学模型、算法和实现指南。本文档是连接业务需求（PRD）与软件开发（代码实现）的关键桥梁，确保平台计算结果的准确性、一致性和可验证性。

本文档的读者包括：

* **软件开发工程师**：作为后端计算引擎的直接实现蓝图。  
* **测试工程师**：作为编写测试用例和验证计算结果的依据。  
* **产品经理与业务分析师**：用于确认计算逻辑是否精确反映业务规则和合同条款。  
* **财务与管理团队**：用于理解平台背后各项财务指标的计算原理。

## **2\. 核心计算模型概览**

本平台的所有计算功能围绕三大核心模型构建，形成一个从成本到收益，再到盈利能力分析的完整数据流：

1. **项目总投资成本模型 (Model B)**：根据项目类型和装机容量，估算项目的总工程造价 P\_total。  
2. **登品收益模型 (Model C.1)**：基于合同条款，计算登品科技的两大核心收益——“委托费”与“资源费分成”。  
3. **核心财务指标模型 (Model C.2)**：在收益计算的基础上，进一步分析项目的盈利能力，如计算“投资回报率 (ROI)”。

## **3\. 模型详解：项目总投资成本模型 (Model B)**

**目标**: 自动化计算项目工程总量 P\_total (单位: 万元)，为项目投资决策提供数据支持。

### **3.1 集中式光伏电站成本模型**

* **核心输入**:  
  * Capacity\_PV (float): 项目装机容量，单位为兆瓦 (MW)。  
* **核心输出**:  
  * P\_total\_PV (float): 项目工程总量，单位为万元。  
* **配置参数 (需在系统后台配置，可由管理员修改)**:  
  * C\_pv\_module (float): 光伏组件单价 (元/W)  
  * C\_pv\_inverter (float): 逆变器单价 (元/W)  
  * C\_pv\_rack (float): 支架单价 (元/W)  
  * C\_pv\_transformer (float): 箱变、开关柜单价 (元/W)  
  * C\_pv\_cable (float): 电缆单价 (元/W)  
  * C\_pv\_construction (float): 建安工程单价 (元/W)  
  * C\_pv\_gridline (float): 送出线路工程单价 (元/W)  
  * C\_pv\_land (float): 土地费用/租金单价 (元/W)  
  * C\_pv\_preliminary (float): 项目前期费单价 (元/W)  
  * C\_pv\_management (float): 管理费单价 (元/W)  
* **计算公式**:  
  1. 计算单位造价 Unit\_Cost\_PV (元/W):  
     Unit\_Cost\_PV \= C\_pv\_module \+ C\_pv\_inverter \+ C\_pv\_rack \+ C\_pv\_transformer \+ C\_pv\_cable \+ C\_pv\_construction \+ C\_pv\_gridline \+ C\_pv\_land \+ C\_pv\_preliminary \+ C\_pv\_management

  2. 计算项目工程总量 P\_total\_PV (万元):  
     P\_total\_PV \= (Capacity\_PV \* 1,000,000 \* Unit\_Cost\_PV) / 10,000

     *释义: 容量(MW) \-\> 容量(W) \-\> 总投资(元) \-\> 总投资(万元)*  
* **伪代码实现**:  
  function calculate\_pv\_cost(Capacity\_PV, config\_params):  
      Unit\_Cost\_PV \= sum(config\_params.values())  
      P\_total\_PV \= (Capacity\_PV \* 1000000 \* Unit\_Cost\_PV) / 10000  
      return P\_total\_PV

### **3.2 陆上风电项目成本模型**

* **核心输入**:  
  * Capacity\_Wind (float): 项目装机容量，单位为兆瓦 (MW)。  
* **核心输出**:  
  * P\_total\_Wind (float): 项目工程总量，单位为万元。  
* **配置参数 (需在系统后台配置，可由管理员修改)**:  
  * C\_wind\_turbine (float): 风力发电机组单价 (万元/MW)  
  * C\_wind\_tower (float): 塔筒单价 (万元/MW)  
  * C\_wind\_transformer (float): 箱变、主变单价 (万元/MW)  
  * C\_wind\_construction (float): 道路与基础工程单价 (万元/MW)  
  * C\_wind\_installation (float): 安装与吊装工程单价 (万元/MW)  
  * C\_wind\_collectionline (float): 集电线路工程单价 (万元/MW)  
  * C\_wind\_land (float): 土地征用/租金单价 (万元/MW)  
  * C\_wind\_preliminary (float): 项目前期费单价 (万元/MW)  
  * C\_wind\_management (float): 管理与并网费单价 (万元/MW)  
* **计算公式**:  
  1. 计算单位造价 Unit\_Cost\_Wind (万元/MW):  
     Unit\_Cost\_Wind \= C\_wind\_turbine \+ C\_wind\_tower \+ C\_wind\_transformer \+ C\_wind\_construction \+ C\_wind\_installation \+ C\_wind\_collectionline \+ C\_wind\_land \+ C\_wind\_preliminary \+ C\_wind\_management

  2. 计算项目工程总量 P\_total\_Wind (万元):  
     P\_total\_Wind \= Capacity\_Wind \* Unit\_Cost\_Wind

* **伪代码实现**:  
  function calculate\_wind\_cost(Capacity\_Wind, config\_params):  
      Unit\_Cost\_Wind \= sum(config\_params.values())  
      P\_total\_Wind \= Capacity\_Wind \* Unit\_Cost\_Wind  
      return P\_total\_Wind

## **4\. 模型详解：登品收益模型 (Model C.1)**

**目标**: 精确计算登品科技在项目中的两部分核心收益。

### **4.1 委托费收益模型**

**业务逻辑**: 登品科技与水电六局合作的收益是一个与项目总装机容量直接挂钩的**固定开发费**。该费用通过45%的工程分包机制来实现，但其总额是确定的。

* **合同依据**: 《六局-登品 嵩明集中式-双章版2025.3.24.pdf》第五条，结合“按0.1元/W计算开发收益”的业务约定。  
* **核心输入**:  
  * Capacity (float): 项目装机容量，单位为兆瓦 (MW)。  
  * Dev\_Fee\_Rate (float): **项目开发收益费率 (用户输入或后台配置)**，单位为 **元/瓦 (元/W)**。根据业务约定，此值默认为 **0.1**。  
  * I\_extra (float): 政府要求额外投资 (用户输入，作为扣除项)，单位为万元。  
* **核心输出**:  
  * Revenue\_Commission (float): 委托费收益，单位为万元。  
* **计算公式**:  
  1. 将项目容量从兆瓦(MW)转换为瓦(W):  
     Capacity\_W \= Capacity \* 1,000,000

  2. 计算项目开发收益总额（单位：元）:  
     Total\_Dev\_Fee\_Yuan \= Capacity\_W \* Dev\_Fee\_Rate

  3. 将收益总额从“元”转换为“万元”:  
     Total\_Dev\_Fee\_WanYuan \= Total\_Dev\_Fee\_Yuan / 10,000

  4. 计算扣除额外投资后的最终收益:  
     Revenue\_Commission \= Total\_Dev\_Fee\_WanYuan \- I\_extra

  5. **约束条件**: 收益不能为负。  
     Revenue\_Commission \= max(0, Revenue\_Commission)

* **伪代码实现**:  
  function calculate\_commission\_revenue(Capacity\_MW, Dev\_Fee\_Rate, I\_extra\_WanYuan):  
      \# 1\. Convert MW to W  
      capacity\_watts \= Capacity\_MW \* 1000000

      \# 2\. Calculate total fee in Yuan  
      total\_fee\_yuan \= capacity\_watts \* Dev\_Fee\_Rate

      \# 3\. Convert Yuan to WanYuan  
      total\_fee\_wanyuan \= total\_fee\_yuan / 10000

      \# 4\. Deduct extra investment  
      final\_revenue \= total\_fee\_wanyuan \- I\_extra\_WanYuan

      \# 5\. Ensure non-negative  
      return max(0, final\_revenue)

### **4.2 资源费分成收益模型**

**业务逻辑**: 登品科技与沃太能源合作的收益，是根据沃太获取的资源费总额，按**累进分级**的比例进行分成。

* **合同依据**: 《登品-沃太 资源合作与收益分配协议- 双章版2025.4.14.pdf》  
* **核心输入**:  
  * F\_resource (float): 资源费总额 (用户输入)，单位为万元。  
* **核心输出**:  
  * Revenue\_ResourceShare (float): 资源费分成收益，单位为万元。  
* **计算公式 (累进分级)**:  
  * **定义分界点**:  
    * Tier1\_Limit \= 4000  
    * Tier2\_Limit \= 8000  
  * **定义各级分成比例**:  
    * Rate1 \= 0.25 (25%)  
    * Rate2 \= 0.75 (75%)  
    * Rate3 \= 0.6667 (66.67%)  
  * **分段计算**:  
    * **第一级收益**: Share1 \= min(F\_resource, Tier1\_Limit) \* Rate1  
    * **第二级收益**: Share2 \= max(0, min(F\_resource, Tier2\_Limit) \- Tier1\_Limit) \* Rate2  
    * **第三级收益**: Share3 \= max(0, F\_resource \- Tier2\_Limit) \* Rate3  
  * **总收益**:  
    Revenue\_ResourceShare \= Share1 \+ Share2 \+ Share3

* **伪代码实现**:  
  function calculate\_resource\_share\_revenue(F\_resource):  
      \# Define tiers and rates  
      TIER\_1\_LIMIT \= 4000  
      TIER\_2\_LIMIT \= 8000  
      RATE\_1 \= 0.25  
      RATE\_2 \= 0.75  
      RATE\_3 \= 0.6667

      revenue \= 0

      \# Tier 1 calculation  
      if F\_resource \> 0:  
          amount\_in\_tier\_1 \= min(F\_resource, TIER\_1\_LIMIT)  
          revenue \+= amount\_in\_tier\_1 \* RATE\_1

      \# Tier 2 calculation  
      if F\_resource \> TIER\_1\_LIMIT:  
          amount\_in\_tier\_2 \= min(F\_resource, TIER\_2\_LIMIT) \- TIER\_1\_LIMIT  
          revenue \+= amount\_in\_tier\_2 \* RATE\_2

      \# Tier 3 calculation  
      if F\_resource \> TIER\_2\_LIMIT:  
          amount\_in\_tier\_3 \= F\_resource \- TIER\_2\_LIMIT  
          revenue \+= amount\_in\_tier\_3 \* RATE\_3

      return revenue

## **5\. 模型详解：核心财务指标模型 (Model C.2)**

**目标**: 为管理层提供关键的决策支持数据。

### **5.1 项目总收益模型**

* **核心输入**:  
  * Revenue\_Commission (float): (由Model 4.1计算得出)  
  * Revenue\_ResourceShare (float): (由Model 4.2计算得出)  
* **核心输出**:  
  * Revenue\_Total (float): 登品项目总收益，单位为万元。  
* **计算公式**:  
  Revenue\_Total \= Revenue\_Commission \+ Revenue\_ResourceShare

### **5.2 投资回报率 (ROI) 模型**

* **核心输入**:  
  * Revenue\_Total (float): (由Model 5.1计算得出)  
  * Cost\_Dengpin (float): **登品自身投入成本 (用户输入)**，单位为万元。此项涵盖登品为项目付出的所有直接成本（如人力、差旅、公关等）。  
* **核心输出**:  
  * ROI\_Dengpin (float): 登品投资回报率，单位为百分比。  
* **计算公式**:  
  1. 计算净利润 Net\_Profit\_Dengpin:  
     Net\_Profit\_Dengpin \= Revenue\_Total \- Cost\_Dengpin

  2. 计算ROI ROI\_Dengpin，并处理分母为0的特殊情况:  
     if Cost\_Dengpin \> 0:  
         ROI\_Dengpin \= (Net\_Profit\_Dengpin / Cost\_Dengpin) \* 100  
     else:  
         \# 如果投入成本为0，ROI无意义或视为无穷大，可标记为'N/A'  
         ROI\_Dengpin \= 'N/A' 

* **伪代码实现**:  
  function calculate\_roi(Revenue\_Total, Cost\_Dengpin):  
      if Cost\_Dengpin \<= 0:  
          return "N/A" \# Or handle as an error/special case

      net\_profit \= Revenue\_Total \- Cost\_Dengpin  
      roi\_percentage \= (net\_profit / Cost\_Dengpin) \* 100.0  
      return roi\_percentage

## **6\. 实现建议**

* **数据类型**: 所有涉及货币计算的变量，在后端实现时应使用高精度数据类型（如Java的BigDecimal或Python的Decimal），以避免浮点数计算误差。  
* **数据校验**: 所有用户输入项（如容量、利润率、成本等）必须进行严格的后端校验，确保为非负数且符合业务逻辑范围。  
* **可配置性**: 所有单价参数（C\_...）和费率（Dev\_Fee\_Rate）必须存储在数据库的配置表中，而不是硬编码在代码中，以应对市场价格波动和业务调整。