# 系统集成测试计划

## 测试概述

本文档定义了新能源项目管理平台的系统集成测试计划，确保所有功能模块正常工作并满足PRD要求。

## 测试环境

- **测试环境**: 开发环境
- **数据库**: SQLite (app.db)
- **服务器**: Flask开发服务器 (http://127.0.0.1:5000)
- **浏览器**: 现代浏览器（Chrome/Firefox/Edge）

## 测试范围

### 1. 用户认证与权限系统测试

#### 1.1 用户注册登录测试
- [ ] 用户注册功能
- [ ] 用户登录功能
- [ ] 用户退出功能
- [ ] 会话管理
- [ ] 密码验证

#### 1.2 角色权限测试
- [ ] 管理员权限验证
- [ ] 项目经理权限验证
- [ ] 财务/管理层权限验证
- [ ] 普通员工权限验证
- [ ] 未授权访问拦截

### 2. 项目管理功能测试

#### 2.1 项目CRUD操作
- [ ] 创建项目
- [ ] 查看项目列表
- [ ] 查看项目详情
- [ ] 编辑项目信息
- [ ] 删除项目
- [ ] 项目权限控制

#### 2.2 项目生命周期管理
- [ ] 阶段状态更新
- [ ] 阶段流转验证
- [ ] 阶段数据完整性

### 3. 成本估算功能测试

#### 3.1 造价模型测试
- [ ] 集中式光伏造价计算
- [ ] 陆上风电造价计算
- [ ] 成本构成分析
- [ ] 参数验证

#### 3.2 造价模型管理
- [ ] 管理员修改造价参数
- [ ] 参数更新生效验证
- [ ] 历史数据一致性

### 4. 收益分析功能测试

#### 4.1 收益计算测试
- [ ] 委托费收益计算
- [ ] 资源费收益计算
- [ ] 总收益汇总
- [ ] 参数敏感性测试

#### 4.2 数据联动测试
- [ ] 造价模型与收益分析联动
- [ ] 项目数据自动带入
- [ ] 计算结果存储

### 5. 报表生成功能测试

#### 5.1 PDF报告测试
- [ ] 项目详细报告生成
- [ ] PDF格式正确性
- [ ] 报告内容完整性
- [ ] 下载功能

#### 5.2 Excel报告测试
- [ ] 项目Excel报告生成
- [ ] 汇总Excel报告生成
- [ ] Excel格式正确性
- [ ] 数据准确性

### 6. 文档管理功能测试

#### 6.1 文档上传测试
- [ ] 文件上传功能
- [ ] 文件类型验证
- [ ] 文件大小限制
- [ ] 文件存储路径

#### 6.2 文档管理测试
- [ ] 文档列表显示
- [ ] 文档下载功能
- [ ] 文档删除功能
- [ ] 文档权限控制

#### 6.3 管理员文档管理
- [ ] 管理员文档后台
- [ ] 文档搜索筛选
- [ ] 批量操作

### 7. 管理员后台功能测试

#### 7.1 用户管理
- [ ] 用户列表查看
- [ ] 创建新用户
- [ ] 编辑用户信息
- [ ] 删除用户
- [ ] 角色分配

#### 7.2 项目管理
- [ ] 管理员项目列表
- [ ] 管理员编辑项目
- [ ] 项目状态管理

#### 7.3 造价模型管理
- [ ] 造价模型列表
- [ ] 编辑造价参数
- [ ] 参数生效验证

#### 7.4 系统信息
- [ ] 系统统计信息
- [ ] 数据库状态
- [ ] 系统配置信息

### 8. 用户界面测试

#### 8.1 响应式设计
- [ ] 桌面端显示
- [ ] 平板端显示
- [ ] 移动端显示

#### 8.2 用户体验
- [ ] 页面加载速度
- [ ] 操作流畅性
- [ ] 错误提示友好性
- [ ] 成功操作反馈

### 9. 数据完整性测试

#### 9.1 数据一致性
- [ ] 项目数据一致性
- [ ] 用户数据一致性
- [ ] 关联数据完整性

#### 9.2 数据验证
- [ ] 输入数据验证
- [ ] 数据格式验证
- [ ] 必填字段验证

### 10. 性能测试

#### 10.1 基础性能
- [ ] 页面响应时间
- [ ] 数据库查询性能
- [ ] 文件上传性能
- [ ] 报表生成性能

#### 10.2 并发测试
- [ ] 多用户同时访问
- [ ] 并发操作测试
- [ ] 数据库锁定测试

## 测试执行计划

### 阶段1: 核心功能测试 (1天)
- 用户认证与权限系统
- 项目管理基础功能
- 成本估算和收益分析

### 阶段2: 高级功能测试 (1天)
- 报表生成功能
- 文档管理功能
- 管理员后台功能

### 阶段3: 集成与性能测试 (1天)
- 端到端业务流程测试
- 用户界面测试
- 性能和稳定性测试

## 测试标准

### 通过标准
- 所有核心功能正常工作
- 权限控制有效
- 数据计算准确
- 报表生成正确
- 用户界面友好
- 性能满足要求

### 缺陷分级
- **严重**: 系统崩溃、数据丢失、安全漏洞
- **重要**: 核心功能异常、计算错误
- **一般**: 界面问题、提示不友好
- **轻微**: 文字错误、样式问题

## 测试记录

测试执行过程中发现的问题将记录在单独的测试报告中，包括：
- 问题描述
- 重现步骤
- 预期结果
- 实际结果
- 问题级别
- 修复状态

## 测试完成标准

- 所有测试用例执行完成
- 严重和重要缺陷全部修复
- 一般缺陷修复率达到90%以上
- 系统稳定运行24小时无异常
- 用户验收测试通过